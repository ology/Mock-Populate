#!/usr/bin/perl
# ABSTRCT: Generate a set of random person names. (Default: US)
# PODNAME: bin/Personify

use strict;
use warnings;

use lib '/Users/gene/sandbox/github/ology/Mock-Person/lib';
use Mock::Person;

# Get gender.
my $g = defined $ARGV[0] ? shift : die "Usage: perl $0 b|f|m [names] [num]\n";
# Get desired number of names.
my $d = defined $ARGV[0] ? shift : 2;
# Get desired number of data-points.
my $n = defined $ARGV[0] ? shift : 9;

# Roll!
for my $i (0 .. $n) {
    # Get our random person.
    my $p = '';
    if (($g eq 'b' && $i % 2) || $g eq 'f') {
        $p = Mock::Person::name(sex => 'female', country => 'us');
    }
    else {
        $p = Mock::Person::name(sex => 'male', country => 'us');
    }
    # Only use the requested number of names.
    my @names = split / /, $p;
    my $name = '';
    if ($d == 1) {
        print $names[-1];
    }
    elsif ($d == 2) {
        print "@names[0,-1]";
    }
    else {
        print $p;
    }
    print "\n";
}

